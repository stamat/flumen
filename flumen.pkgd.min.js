/*!
 * Flumen PACKAGED v1.0.2
 *
 * License MIT
 *
 * http://stamat.github.io/flumen
 * Copyright 2017 Stamat
 */

!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var r=t||window.event,l=a.call(arguments,1),c=0,u=0,d=0,m=0,p=0,v=0;if(t=e.event.fix(r),t.type="mousewheel","detail"in r&&(d=r.detail*-1),"wheelDelta"in r&&(d=r.wheelDelta),"wheelDeltaY"in r&&(d=r.wheelDeltaY),"wheelDeltaX"in r&&(u=r.wheelDeltaX*-1),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(u=d*-1,d=0),c=0===d?u:d,"deltaY"in r&&(d=r.deltaY*-1,c=d),"deltaX"in r&&(u=r.deltaX,0===d&&(c=u*-1)),0!==d||0!==u){if(1===r.deltaMode){var f=e.data(this,"mousewheel-line-height");c*=f,d*=f,u*=f}else if(2===r.deltaMode){var g=e.data(this,"mousewheel-page-height");c*=g,d*=g,u*=g}if(m=Math.max(Math.abs(d),Math.abs(u)),(!o||m<o)&&(o=m,s(r,m)&&(o/=40)),s(r,m)&&(c/=40,u/=40,d/=40),c=Math[c>=1?"floor":"ceil"](c/o),u=Math[u>=1?"floor":"ceil"](u/o),d=Math[d>=1?"floor":"ceil"](d/o),h.settings.normalizeOffset&&this.getBoundingClientRect){var w=this.getBoundingClientRect();p=t.clientX-w.left,v=t.clientY-w.top}return t.deltaX=u,t.deltaY=d,t.deltaFactor=o,t.offsetX=p,t.offsetY=v,t.deltaMode=0,l.unshift(t,c,u,d),n&&clearTimeout(n),n=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,l)}}function i(){o=null}function s(e,t){return h.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var n,o,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],l="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],a=Array.prototype.slice;if(e.event.fixHooks)for(var c=r.length;c;)e.event.fixHooks[r[--c]]=e.event.mouseHooks;var h=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=l.length;i;)this.addEventListener(l[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",h.getLineHeight(this)),e.data(this,"mousewheel-page-height",h.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=l.length;i;)this.removeEventListener(l[--i],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),s=i["offsetParent"in e.fn?"offsetParent":"parent"]();return s.length||(s=e("body")),parseInt(s.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){"use strict";var t="kinetic-active";window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}}()),e.support=e.support||{},e.extend(e.support,{touch:"ontouchend"in document});var i=function(){return!1},s=function(t,i){return this.settings=i,this.el=t,this.$el=e(t),this._initElements(),this};s.DATA_KEY="kinetic",s.DEFAULTS={cursor:"move",decelerate:!0,triggerHardware:!1,threshold:0,y:!0,x:!0,slowdown:.9,maxvelocity:40,throttleFPS:60,movingClass:{up:"kinetic-moving-up",down:"kinetic-moving-down",left:"kinetic-moving-left",right:"kinetic-moving-right"},deceleratingClass:{up:"kinetic-decelerating-up",down:"kinetic-decelerating-down",left:"kinetic-decelerating-left",right:"kinetic-decelerating-right"}},s.prototype.start=function(t){this.settings=e.extend(this.settings,t),this.velocity=t.velocity||this.velocity,this.velocityY=t.velocityY||this.velocityY,this.settings.decelerate=!1,this._move()},s.prototype.end=function(){this.settings.decelerate=!0},s.prototype.stop=function(){this.velocity=0,this.velocityY=0,this.settings.decelerate=!0,e.isFunction(this.settings.stopped)&&this.settings.stopped.call(this)},s.prototype.detach=function(){this._detachListeners(),this.$el.removeClass(t).css("cursor","")},s.prototype.attach=function(){this.$el.hasClass(t)||(this._attachListeners(this.$el),this.$el.addClass(t).css("cursor",this.settings.cursor))},s.prototype._initElements=function(){this.$el.addClass(t),e.extend(this,{xpos:null,prevXPos:!1,ypos:null,prevYPos:!1,mouseDown:!1,throttleTimeout:1e3/this.settings.throttleFPS,lastMove:null,elementFocused:null}),this.velocity=0,this.velocityY=0,e(document).mouseup(e.proxy(this._resetMouse,this)).click(e.proxy(this._resetMouse,this)),this._initEvents(),this.$el.css("cursor",this.settings.cursor),this.settings.triggerHardware&&this.$el.css({"-webkit-transform":"translate3d(0,0,0)","-webkit-perspective":"1000","-webkit-backface-visibility":"hidden"})},s.prototype._initEvents=function(){var t=this;this.settings.events={touchStart:function(e){var i;t._useTarget(e.target,e)&&(i=e.originalEvent.touches[0],t.threshold=t._threshold(e.target,e),t._start(i.clientX,i.clientY),e.stopPropagation())},touchMove:function(e){var i;t.mouseDown&&(i=e.originalEvent.touches[0],t._inputmove(i.clientX,i.clientY),e.preventDefault&&e.preventDefault())},inputDown:function(e){t._useTarget(e.target,e)&&(t.threshold=t._threshold(e.target,e),t._start(e.clientX,e.clientY),t.elementFocused=e.target,"IMG"===e.target.nodeName&&e.preventDefault(),e.stopPropagation())},inputEnd:function(e){t._useTarget(e.target,e)&&(t._end(),t.elementFocused=null,e.preventDefault&&e.preventDefault())},inputMove:function(e){t.mouseDown&&(t._inputmove(e.clientX,e.clientY),e.preventDefault&&e.preventDefault())},scroll:function(i){e.isFunction(t.settings.moved)&&t.settings.moved.call(t,t.settings),i.preventDefault&&i.preventDefault()},inputClick:function(e){if(Math.abs(t.velocity)>0)return e.preventDefault(),!1},dragStart:function(e){if(t._useTarget(e.target,e)&&t.elementFocused)return!1}},this._attachListeners(this.$el,this.settings)},s.prototype._inputmove=function(t,i){var s=this.$el;this.el;if((!this.lastMove||new Date>new Date(this.lastMove.getTime()+this.throttleTimeout))&&(this.lastMove=new Date,this.mouseDown&&(this.xpos||this.ypos))){var n=t-this.xpos,o=i-this.ypos;if(this.threshold>0){var r=Math.sqrt(n*n+o*o);if(this.threshold>r)return;this.threshold=0}this.elementFocused&&(e(this.elementFocused).blur(),this.elementFocused=null,s.focus()),this.settings.decelerate=!1,this.velocity=this.velocityY=0;var l=this.scrollLeft(),a=this.scrollTop();this.scrollLeft(this.settings.x?l-n:l),this.scrollTop(this.settings.y?a-o:a),this.prevXPos=this.xpos,this.prevYPos=this.ypos,this.xpos=t,this.ypos=i,this._calculateVelocities(),this._setMoveClasses(this.settings.movingClass),e.isFunction(this.settings.moved)&&this.settings.moved.call(this,this.settings)}},s.prototype._calculateVelocities=function(){this.velocity=this._capVelocity(this.prevXPos-this.xpos,this.settings.maxvelocity),this.velocityY=this._capVelocity(this.prevYPos-this.ypos,this.settings.maxvelocity)},s.prototype._end=function(){this.xpos&&this.prevXPos&&this.settings.decelerate===!1&&(this.settings.decelerate=!0,this._calculateVelocities(),this.xpos=this.prevXPos=this.mouseDown=!1,this._move())},s.prototype._useTarget=function(t,i){return!e.isFunction(this.settings.filterTarget)||this.settings.filterTarget.call(this,t,i)!==!1},s.prototype._threshold=function(t,i){return e.isFunction(this.settings.threshold)?this.settings.threshold.call(this,t,i):this.settings.threshold},s.prototype._start=function(e,t){this.mouseDown=!0,this.velocity=this.prevXPos=0,this.velocityY=this.prevYPos=0,this.xpos=e,this.ypos=t},s.prototype._resetMouse=function(){this.xpos=!1,this.ypos=!1,this.mouseDown=!1},s.prototype._decelerateVelocity=function(e,t){return 0===Math.floor(Math.abs(e))?0:e*t},s.prototype._capVelocity=function(e,t){var i=e;return e>0?e>t&&(i=t):e<0-t&&(i=0-t),i},s.prototype._setMoveClasses=function(e){var t=this.settings,i=this.$el;i.removeClass(t.movingClass.up).removeClass(t.movingClass.down).removeClass(t.movingClass.left).removeClass(t.movingClass.right).removeClass(t.deceleratingClass.up).removeClass(t.deceleratingClass.down).removeClass(t.deceleratingClass.left).removeClass(t.deceleratingClass.right),this.velocity>0&&i.addClass(e.right),this.velocity<0&&i.addClass(e.left),this.velocityY>0&&i.addClass(e.down),this.velocityY<0&&i.addClass(e.up)},s.prototype._move=function(){var t=(this.$el,this.el),i=this,s=i.settings;s.x&&t.scrollWidth>0?(this.scrollLeft(this.scrollLeft()+this.velocity),Math.abs(this.velocity)>0&&(this.velocity=s.decelerate?i._decelerateVelocity(this.velocity,s.slowdown):this.velocity)):this.velocity=0,s.y&&t.scrollHeight>0?(this.scrollTop(this.scrollTop()+this.velocityY),Math.abs(this.velocityY)>0&&(this.velocityY=s.decelerate?i._decelerateVelocity(this.velocityY,s.slowdown):this.velocityY)):this.velocityY=0,i._setMoveClasses(s.deceleratingClass),e.isFunction(s.moved)&&s.moved.call(this,s),Math.abs(this.velocity)>0||Math.abs(this.velocityY)>0?this.moving||(this.moving=!0,window.requestAnimationFrame(function(){i.moving=!1,i._move()})):i.stop()},s.prototype._getScroller=function(){var t=this.$el;return(this.$el.is("body")||this.$el.is("html"))&&(t=e(window)),t},s.prototype.scrollLeft=function(e){var t=this._getScroller();return"number"!=typeof e?t.scrollLeft():(t.scrollLeft(e),void(this.settings.scrollLeft=e))},s.prototype.scrollTop=function(e){var t=this._getScroller();return"number"!=typeof e?t.scrollTop():(t.scrollTop(e),void(this.settings.scrollTop=e))},s.prototype._attachListeners=function(){var t=this.$el,s=this.settings;e.support.touch&&t.bind("touchstart",s.events.touchStart).bind("touchend",s.events.inputEnd).bind("touchmove",s.events.touchMove),t.mousedown(s.events.inputDown).mouseup(s.events.inputEnd).mousemove(s.events.inputMove),t.click(s.events.inputClick).scroll(s.events.scroll).bind("selectstart",i).bind("dragstart",s.events.dragStart)},s.prototype._detachListeners=function(){var t=this.$el,s=this.settings;e.support.touch&&t.unbind("touchstart",s.events.touchStart).unbind("touchend",s.events.inputEnd).unbind("touchmove",s.events.touchMove),t.unbind("mousedown",s.events.inputDown).unbind("mouseup",s.events.inputEnd).unbind("mousemove",s.events.inputMove),t.unbind("click",s.events.inputClick).unbind("scroll",s.events.scroll).unbind("selectstart",i).unbind("dragstart",s.events.dragStart)},e.Kinetic=s,e.fn.kinetic=function(t,i){return this.each(function(){var n=e(this),o=n.data(s.DATA_KEY),r=e.extend({},s.DEFAULTS,n.data(),"object"==typeof t&&t);o||n.data(s.DATA_KEY,o=new s(this,r)),"string"==typeof t&&o[t](i)})}}(window.jQuery||window.Zepto),function(e){e.fn.addClassIncrement=function(t,i){var s=e(this);t||(t="num");for(var n=0;n<s.length;n++){var o=e(s[n]);o.data("number",n).addClass(t+"-"+n),i&&i(n,o)}return s},e.fn.flumen=function(t){function i(e,t){var i=w.map[e];t||(t=w.speed);var s=i.start;w.center&&(s-=w.half_width-i.half_width-w.margin),y=!0,c.trigger("flumen.beforechange",w),c.stop(!0).animate({scrollLeft:s},t,function(){c.trigger("flumen.afterchange",w)})}function s(){var e=c.scrollLeft();w.center&&(e+=w.half_width);for(var t in w.map){var i=w.map[t];if(e>=i.start&&e<=i.outerEnd)return i}return null}function n(){var e=c.scrollLeft(),t=[],i=e+w.width;for(var s in w.map){var n=w.map[s];e<n.end&&i>n.start&&t.push(n)}return t}function o(e){var t=w.map[e],i=t.start;w.center&&(i-=w.half_width-t.half_width-w.margin),c.scrollLeft(i)}function r(){c.trigger("flumen.beforeresize",w),w.width=c.width(),!w.cloned_left&&w.loop&&(w.cloned_left=w.children.clone(!0).addClass("clone clone-left"),w.cloned_right=w.children.clone(!0).addClass("clone clone-right"),c.prepend(w.cloned_left),c.append(w.cloned_right),w.children=c.children());var t=c.scrollLeft();c.scrollLeft(0);for(var i=0;i<w.children.length;i++){var s=e(w.children[i]),n=s.width(),o=s.outerWidth(!0),r=s.position().left,l={elem:s,width:n,start:w.center?r:r-w.margin,end:w.center?r+n:r+w.margin+n,outerEnd:r+o,outerWidth:o,id:i,num:i%w.items,half_width:n/2};s.hasClass("clone")?l.cloned=!0:w.orig_map[l.num]=l,w.map[i]=l}w.loop?(w.end_position=w.map[3*w.items-1].start+w.map[3*w.items-1].width-w.width-m,w.reset_left=w.map[w.items].start+m,w.reset_right=w.map[2*w.items-1].start+w.map[2*w.items-1].width-w.width-m):w.end_position=w.map[w.items-1].start+w.map[w.items-1].width-w.width,w.half_width=w.width/2,c.scrollLeft(t),e(this).trigger("flumen.afterresize",w)}function l(e){var t=c.scrollLeft();w.loop?(t<=m&&(c.trigger("flumen.start",w),c.scrollLeft(w.reset_left)),t>=w.end_position&&(c.trigger("flumen.end",w),c.scrollLeft(w.reset_right))):(0===t&&c.trigger("flumen.start",w),t>=w.end_position&&c.trigger("flumen.end",w));var i=s();!i||w.current&&w.current.id===i.id||(w.current=i,c.trigger("flumen.slide",i,w)),f&&clearTimeout(f),f=setTimeout(function(){c.trigger("flumen.stop",w),f=null},100)}function a(){return e.extend(w,t),p||c.addClass("no-flexbox"),w.fluid&&(d||c.kinetic({y:!1}),w.mousewheel&&c.mousewheel(function(e){c.scrollLeft(c.scrollLeft()+e.deltaX)})),w.children=c.children().addClass("flumen-slide"),w.original=w.children,w.margin&&w.original.css("margin","0px "+w.margin+"px"),w.items=w.children.length,w.children.addClassIncrement(),w.map={},w.orig_map={},e(window).resize(function(){v||(v=setTimeout(function(){clearTimeout(v),v=null,g.calc()},w.resize_timeout))}),g.calc(),w.start_num=0,w.loop&&(w.start_num=w.items),g.resetPosition(w.start_num),w.current=null,c.scroll(l),w.center||w.loop||c.trigger("scroll"),c.trigger("flumen.init",w),c}var c=e(this);if(c.length){var h=navigator.userAgent.indexOf("Chrome")>-1,u=navigator.userAgent.indexOf("Safari")>-1&&!h,d=!1;(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(d=!0),c.addClass("flumen");var m=50,p="flex-shrink"in document.body.style,v=null,f=null,g={},w={loop:!0,center:!0,fluid:!0,arrows:!1,dots:!1,mousewheel:!0,speed:300,margin:0,resize_timeout:200,events:{}};w.elem=c,(u||d)&&(w.mousewheel=!1),w.mousewheel||c.css("overflow-x","auto");var y=!1;return g.goTo=i,g.getCurrentItem=s,g.resetPosition=o,g.calc=r,g.onscroll=l,c.on("flumen.goto",function(e,t){w.events.hasOwnProperty("goto")&&w.events["goto"](e,w),g.goTo(w.start_num+t-1)}),c.on("flumen.left",function(e){w.events.hasOwnProperty("left")&&w.events.left(e,w),g.goTo(w.current.id-1)}),c.on("flumen.recalc",function(e,t){g.calc()}),c.on("flumen.right",function(e){w.events.hasOwnProperty("right")&&w.events.right(e,w),g.goTo(w.current.id+1)}),c.on("flumen.slide",function(e,t){c.find(".flumen-current").removeClass("flumen-current"),t.elem.addClass("flumen-current"),w.events.hasOwnProperty("slide")&&w.events.slide(e,t,w)}),c.on("flumen.start",function(e,t){t.events.hasOwnProperty("start")&&t.events.start(e,t)}),c.on("flumen.end",function(e,t){t.events.hasOwnProperty("end")&&t.events.end(e,t)}),c.on("flumen.beforechange",function(e,t){t.events.hasOwnProperty("beforechange")&&t.events.beforechange(e,t)}),c.on("flumen.afterchange",function(e,t){t.events.hasOwnProperty("afterchange")&&t.events.afterchange(e,t)}),c.on("flumen.beforeresize",function(e,t){t.events.hasOwnProperty("beforeresize")&&t.events.beforeresize(e,t)}),c.on("flumen.afterresize",function(e,t){t.events.hasOwnProperty("afterresize")&&t.events.afterresize(e,t)}),c.on("flumen.init",function(e,t){t.events.hasOwnProperty("init")&&t.events.init(e,t)}),c.on("flumen.stop",function(e,t){t.visible=n(),c.find(".flumen-visible").removeClass("flumen-visible");for(var i=0;i<t.visible.length;i++)t.visible[i].elem.addClass("flumen-visible");t.events.hasOwnProperty("stop")&&t.events.stop(e,t),t.current.cloned&&y&&(y=!1,g.resetPosition(t.orig_map[t.current.num].id))}),c.on("flumen.remove",function(e,t){}),g.init=a,g.init()}}}(jQuery);